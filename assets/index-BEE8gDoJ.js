import{r,u as x,j as a,N as b}from"./index-DOlQ3qtd.js";import{u as g,M as j,H as N,d as f}from"./index-BBmxxdpq.js";import{C as w}from"./index-H7NaB1DL.js";import{u as A,C as I,b as y,c as E,a as H}from"./index-B0bYKvTH.js";const B=()=>{const{blockchains:o}=g(),{trendingContracts:c,trendingLoading:m}=A(),[C,h]=r.useState([]),[u,k]=r.useState([]),[d,S]=r.useState(),[n,l]=r.useState({open:!1}),[p]=x();return r.useEffect(()=>{const e=p.get(I);for(const s of c)for(const t of s.addresses)if(y(s.template.id,t.blockchainId,t.address,o.find(i=>i.id===t.blockchainId)?.networkCluster)===e){l({template:s.template,address:t,open:!0});break}},[p,c,o]),r.useEffect(()=>{h(c.filter(e=>{if(d&&!e.template.name.toLowerCase().includes(d.toLowerCase()))return!1;for(const s of u)if(!o.filter(t=>e.addresses.map(i=>i.blockchainId).includes(t.id)).map(t=>t.networkCluster.toString()).includes(s))return!1;return!0}))},[c,o,u,d]),a.jsxs(j,{loading:m,children:[a.jsx(N,{header:"Popular Contracts",options:Object.values(b).map(e=>({value:e.toString(),label:E(e.toString())})),onSelected:k,onSearched:S,defaultSelectAll:!1}),a.jsx("div",{className:"masonry-container",children:a.jsx(f.XMasonry,{center:!1,targetBlockWidth:300,children:C.map(e=>a.jsx(f.XBlock,{children:a.jsx(w,{contract:e,onInteract:(s,t)=>l({template:s,address:t,open:!0})})},e.template.id))})}),a.jsx(H,{open:n.open,template:n.template,address:n.address,blockchain:o.find(e=>e.id===n.address?.blockchainId),onClose:()=>l({...n,open:!1})})]})};export{B as default};
//# sourceMappingURL=index-BEE8gDoJ.js.map
