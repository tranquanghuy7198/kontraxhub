import{r,y as j,q as a,N as y}from"./index-DdRRVCeq.js";import{z as N,A as w,O as A,P as I,H as E,Q as f}from"./index-B6-BJTYl.js";import{C as H}from"./index-B4jDJDHN.js";import{u as P,C as B,b as L,a as T}from"./index-jatYtx4u.js";const R=()=>{const[m,h]=N(),{blockchains:o}=w(),{trendingContracts:i,trendingLoading:C}=P(),[k,b]=r.useState([]),[u,S]=r.useState([]),[d,x]=r.useState(),[n,l]=r.useState({open:!1}),[p]=j();r.useEffect(()=>{const e=p.get(B);for(const s of i)for(const t of s.addresses)if(L(s.template.id,t.blockchainId,t.address,o.find(c=>c.id===t.blockchainId)?.networkCluster)===e){l({template:s.template,address:t,open:!0});break}},[p,i,o]),r.useEffect(()=>{b(i.filter(e=>{if(d&&!e.template.name.toLowerCase().includes(d.toLowerCase()))return!1;for(const s of u)if(!o.filter(t=>e.addresses.map(c=>c.blockchainId).includes(t.id)).map(t=>t.networkCluster.toString()).includes(s))return!1;return!0}))},[i,o,u,d]);const g=(e,s)=>{o.find(c=>c.id===s.blockchainId)?l({template:e,address:s,open:!0}):m.error({message:"Blockchain not found",description:"This blockchain is not supported anymore, or your customized blockchain was deleted."})};return a.jsxs(A,{loading:C,children:[h,a.jsx(I,{header:"Popular Contracts",options:Object.values(y).map(e=>({value:e.toString(),label:E(e.toString())})),onSelected:S,onSearched:x,defaultSelectAll:!1}),a.jsx("div",{className:"masonry-container",children:a.jsx(f.XMasonry,{center:!1,targetBlockWidth:300,children:k.map(e=>a.jsx(f.XBlock,{children:a.jsx(H,{contract:e,onInteract:g})},e.template.id))})}),a.jsx(T,{open:n.open,template:n.template,address:n.address,blockchain:o.find(e=>e.id===n.address?.blockchainId),onClose:()=>l({...n,open:!1})})]})};export{R as default};
//# sourceMappingURL=index-CocAa9tl.js.map
